<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:icecore="http://www.icefaces.org/icefaces/core"
	xmlns:ace="http://www.icefaces.org/icefaces/components">

<h:head>
	<title>IS Manager</title>
</h:head>
<h:body>

	<h:form id="form">

		<ace:dataTable id="deps" value="#{iSMB.departments}" var="department">
			<ace:ajax event="editSubmit" render="facesMsgs" />
			<ace:column id="name-dep" headerText="Name">
				<ace:cellEditor>
					<f:facet name="output">
						<h:outputText id="nameDepOutput" value="#{department.name}" />
					</f:facet>
					<f:facet name="input">
						<h:inputText id="nameDepInput" value="#{department.name}" />
					</f:facet>
				</ace:cellEditor>
			</ace:column>
			<ace:column id="dep-description" headerText="Description">
				<ace:cellEditor>
					<f:facet name="output">
						<h:outputText id="descriptionDepOutput"
							value="#{department.description}" />
					</f:facet>
					<f:facet name="input">
						<h:inputText id="descriptionDepInput"
							value="#{department.description}" />
					</f:facet>
				</ace:cellEditor>
			</ace:column>
			<ace:column id="options" headerText="Options">
				<ace:rowEditor id="editor" />
			</ace:column>
		</ace:dataTable>

		<center>
			<h:commandButton id="show-add-dep" value="Add Department"
				onclick="depDialog.show();" type="button" />
		</center>

		<ace:dialog id="dialog" header="A sample dialog overview example"
			widgetVar="depDialog" closable="true" modal="true" draggable="true"
			showEffect="clip" hideEffect="fade" width="400">

			<h:form id="add-dep-form">
				<icecore:singleSubmit></icecore:singleSubmit>
				<h:panelGrid columns="2" width="100%">
					<h:outputLabel id="nameLabel" for="nameField"
						value="Department Name:" />
					<h:inputText id="nameField" value="#{departmentMB.name}" />

					<h:outputLabel id="descriptionLabel" for="lastNameInputField"
						value="Last Name:" />
					<h:inputTextarea id="descriptionField"
						value="#{departmentMB.description}" />
				</h:panelGrid>

				<h:panelGrid width="100%" style="text-align: center;">
					<h:commandButton id="submit" value="Save Department"
						actionListener="#{departmentMB.save}" onclick="depDialog.hide();" />
				</h:panelGrid>

			</h:form>
		</ace:dialog>

	</h:form>
</h:body>
</html>